<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP32-S3-VOICE-PROJECT: /home/runner/work/ESP32-S3-Voice-Project/ESP32-S3-Voice-Project/application/main/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP32-S3-VOICE-PROJECT<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Test sound processing algorithms on the ESP32 platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('main_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This project aims to test sound processing algorithms on the ESP32 platform.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;driver/i2s_std.h&quot;</code><br />
<code>#include &quot;esp_log.h&quot;</code><br />
<code>#include &quot;freertos/FreeRTOS.h&quot;</code><br />
<code>#include &quot;freertos/task.h&quot;</code><br />
<code>#include &quot;<a class="el" href="utils_8h_source.html">utils.h</a>&quot;</code><br />
<code>#include &quot;driver/gpio.h&quot;</code><br />
<code>#include &quot;driver/uart.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mic_8h_source.html">mic.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afc3d101f633a076cc1ca84b85b6224b2" id="r_afc3d101f633a076cc1ca84b85b6224b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#afc3d101f633a076cc1ca84b85b6224b2">TAG</a>&#160;&#160;&#160;&quot;main.c&quot;</td></tr>
<tr class="separator:afc3d101f633a076cc1ca84b85b6224b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5486258f1f34d3baeda92a74b63c27c3" id="r_a5486258f1f34d3baeda92a74b63c27c3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5486258f1f34d3baeda92a74b63c27c3">TASK_STACK_SIZE</a>&#160;&#160;&#160;2048</td></tr>
<tr class="separator:a5486258f1f34d3baeda92a74b63c27c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a0c49edd31273cd136c41a91315cac" id="r_a42a0c49edd31273cd136c41a91315cac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a42a0c49edd31273cd136c41a91315cac">AUDIO_TASK_SIZE</a>&#160;&#160;&#160;4096</td></tr>
<tr class="separator:a42a0c49edd31273cd136c41a91315cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82dd0a9ae27bdb2c3cdd33bb7804861c" id="r_a82dd0a9ae27bdb2c3cdd33bb7804861c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a82dd0a9ae27bdb2c3cdd33bb7804861c">TASK_PRIORITY</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a82dd0a9ae27bdb2c3cdd33bb7804861c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2c79388c1aa3818c9f5a9350649dcd" id="r_aea2c79388c1aa3818c9f5a9350649dcd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aea2c79388c1aa3818c9f5a9350649dcd">AUDIO_TASK_DELAY</a>&#160;&#160;&#160;2000 / portTICK_PERIOD_MS</td></tr>
<tr class="separator:aea2c79388c1aa3818c9f5a9350649dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a843b341668408e5656cf19cf3389bb5a" id="r_a843b341668408e5656cf19cf3389bb5a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a843b341668408e5656cf19cf3389bb5a">LED_GPIO</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a843b341668408e5656cf19cf3389bb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a97c52dc1e5468b72572ea9bef94d0903" id="r_a97c52dc1e5468b72572ea9bef94d0903"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a97c52dc1e5468b72572ea9bef94d0903">audio_processing_task</a> (void *pvParameters)</td></tr>
<tr class="memdesc:a97c52dc1e5468b72572ea9bef94d0903"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is the main task for audio processing.  <br /></td></tr>
<tr class="separator:a97c52dc1e5468b72572ea9bef94d0903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a592cf6d3771b4f93aa9ce2e898abbb4f" id="r_a592cf6d3771b4f93aa9ce2e898abbb4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a592cf6d3771b4f93aa9ce2e898abbb4f">main_intialize</a> (void)</td></tr>
<tr class="separator:a592cf6d3771b4f93aa9ce2e898abbb4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce06be17fc37d675118a678a8100a36" id="r_abce06be17fc37d675118a678a8100a36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#abce06be17fc37d675118a678a8100a36">app_main</a> ()</td></tr>
<tr class="separator:abce06be17fc37d675118a678a8100a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupText"><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvParameters</td><td></td></tr>
  </table>
  </dd>
</dl>
</div></td></tr>
<tr class="memitem:a9a83202965270a188cb3682f7e3694e2" id="r_a9a83202965270a188cb3682f7e3694e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a9a83202965270a188cb3682f7e3694e2">ble_task</a> (void *pvParameters)</td></tr>
<tr class="separator:a9a83202965270a188cb3682f7e3694e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc93e212b8d7b2547a6b162f6905d59" id="r_a7cc93e212b8d7b2547a6b162f6905d59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a7cc93e212b8d7b2547a6b162f6905d59">gpio_initialize</a> (void)</td></tr>
<tr class="separator:a7cc93e212b8d7b2547a6b162f6905d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">audio_initialize</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Initialize the audio processing task. </p>
</div></td></tr>
<tr class="memitem:a204b80a63bd3806e66ea1171b757bdb0" id="r_a204b80a63bd3806e66ea1171b757bdb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a204b80a63bd3806e66ea1171b757bdb0">audio_initialize</a> (void)</td></tr>
<tr class="separator:a204b80a63bd3806e66ea1171b757bdb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adf91da15660f1351246ccae5cfbd7908" id="r_adf91da15660f1351246ccae5cfbd7908"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#adf91da15660f1351246ccae5cfbd7908">return_code</a></td></tr>
<tr class="separator:adf91da15660f1351246ccae5cfbd7908"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This project aims to test sound processing algorithms on the ESP32 platform. </p>
<dl class="section author"><dt>Author</dt><dd>Ryan Jing (<a href="#" onclick="location.href='mai'+'lto:'+'r5j'+'in'+'g@u'+'wa'+'ter'+'lo'+'o.c'+'a'; return false;">r5jin<span class="obfuscator">.nosp@m.</span>g@uw<span class="obfuscator">.nosp@m.</span>aterl<span class="obfuscator">.nosp@m.</span>oo.c<span class="obfuscator">.nosp@m.</span>a</a>)</dd></dl>
<pre class="fragment">   The goal is to implement a simple sound processing algorithm that can be run on the ESP32,
   and to limit test the performance of the ESP32 platform for sound processing tasks.

  The project will use the ESP-IDF framework and the ESP32's I2S interface to read and write
  audio data. The project will also use FreeRTOS to manage tasks and scheduling.
</pre> <dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-04-09  </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>[] QEMU EMULATION</dd></dl>
<p>Copyright (c) 2024 Ryan Jing </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aea2c79388c1aa3818c9f5a9350649dcd" name="aea2c79388c1aa3818c9f5a9350649dcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea2c79388c1aa3818c9f5a9350649dcd">&#9670;&#160;</a></span>AUDIO_TASK_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AUDIO_TASK_DELAY&#160;&#160;&#160;2000 / portTICK_PERIOD_MS</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a42a0c49edd31273cd136c41a91315cac" name="a42a0c49edd31273cd136c41a91315cac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a0c49edd31273cd136c41a91315cac">&#9670;&#160;</a></span>AUDIO_TASK_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AUDIO_TASK_SIZE&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a843b341668408e5656cf19cf3389bb5a" name="a843b341668408e5656cf19cf3389bb5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a843b341668408e5656cf19cf3389bb5a">&#9670;&#160;</a></span>LED_GPIO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LED_GPIO&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afc3d101f633a076cc1ca84b85b6224b2" name="afc3d101f633a076cc1ca84b85b6224b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc3d101f633a076cc1ca84b85b6224b2">&#9670;&#160;</a></span>TAG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TAG&#160;&#160;&#160;&quot;main.c&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a82dd0a9ae27bdb2c3cdd33bb7804861c" name="a82dd0a9ae27bdb2c3cdd33bb7804861c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82dd0a9ae27bdb2c3cdd33bb7804861c">&#9670;&#160;</a></span>TASK_PRIORITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_PRIORITY&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5486258f1f34d3baeda92a74b63c27c3" name="a5486258f1f34d3baeda92a74b63c27c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5486258f1f34d3baeda92a74b63c27c3">&#9670;&#160;</a></span>TASK_STACK_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_STACK_SIZE&#160;&#160;&#160;2048</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="abce06be17fc37d675118a678a8100a36" name="abce06be17fc37d675118a678a8100a36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abce06be17fc37d675118a678a8100a36">&#9670;&#160;</a></span>app_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a204b80a63bd3806e66ea1171b757bdb0" name="a204b80a63bd3806e66ea1171b757bdb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a204b80a63bd3806e66ea1171b757bdb0">&#9670;&#160;</a></span>audio_initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void audio_initialize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a97c52dc1e5468b72572ea9bef94d0903" name="a97c52dc1e5468b72572ea9bef94d0903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97c52dc1e5468b72572ea9bef94d0903">&#9670;&#160;</a></span>audio_processing_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void audio_processing_task </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvParameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is the main task for audio processing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pvParameters</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9a83202965270a188cb3682f7e3694e2" name="a9a83202965270a188cb3682f7e3694e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a83202965270a188cb3682f7e3694e2">&#9670;&#160;</a></span>ble_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ble_task </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvParameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7cc93e212b8d7b2547a6b162f6905d59" name="a7cc93e212b8d7b2547a6b162f6905d59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cc93e212b8d7b2547a6b162f6905d59">&#9670;&#160;</a></span>gpio_initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpio_initialize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a592cf6d3771b4f93aa9ce2e898abbb4f" name="a592cf6d3771b4f93aa9ce2e898abbb4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a592cf6d3771b4f93aa9ce2e898abbb4f">&#9670;&#160;</a></span>main_intialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void main_intialize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="adf91da15660f1351246ccae5cfbd7908" name="adf91da15660f1351246ccae5cfbd7908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf91da15660f1351246ccae5cfbd7908">&#9670;&#160;</a></span>return_code</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t return_code</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d75c23162a2652451dce46d2e7e8aead.html">application</a></li><li class="navelem"><a class="el" href="dir_e905930dff4b06ca7faab0d16546d0ac.html">main</a></li><li class="navelem"><a class="el" href="main_8c.html">main.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
